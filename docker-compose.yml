version: '3.4'

services:
    
  service:
    image: shamyr/expendity/server/service
    ports:
      - 8080:80
    environment:
      DB_CONNECTION_STRING: "Server=host.docker.internal;Database=Expendify;User Id=SA;Password=Pass@word1;"
    build:
      context: .
      dockerfile: ./src/Shamyr.Expendity.Server.Service/Dockerfile
      
  mssql:
    image: mcr.microsoft.com/mssql/server:2017-latest
    ports:
      - 1433:1433
    environment:
      SA_PASSWORD: "Pass@word1"
      ACCEPT_EULA: "Y"
    volumes:
      - msdata:/var/opt/mssql/data

volumes:
  msdata: